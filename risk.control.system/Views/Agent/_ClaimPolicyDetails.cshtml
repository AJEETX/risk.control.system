@using risk.control.system.Helpers;
@model CaseInvestigationVendorsModel

@{
	<div class="col-12 col-sm-6 d-flex align-items-stretch flex-column">
		<div class="card bg-light d-flex flex-fill">
			<div class="card-header text-muted border-bottom-0">
				<i class="far fa-file-powerpoint"></i> Case Details
				<span class="hover-text">
					<i class="fas fa-info-circle"></i>
					<span class="tooltip-text" id="policy-information">
						<li>
							<i class='far fa-file-powerpoint'></i> Case details
						</li>
						<li>
							<i class='far fa-hand-point-right'></i>
							<div class="btn btn-xs bg-teal">
								<i class="fas fa-edit"></i>
							</div> Add Notes
						</li>
						<li>
							<i class='far fa-hand-point-right'></i>
							<div class="btn btn-xs btn-info">
								<i class="far fa-file-powerpoint"></i> ...
							</div> Show Case Detail
						</li>
					</span>
				</span>
			</div>
			<div class="progress">
				<i class="far fa-bookmark bookmark-green"></i>
				<div class="progress-bar progress-bar-green" role="progressbar">
					<i class="far fa-file-powerpoint"></i>
				</div>
			</div>
			<div class="card-body">
				<div class="row">
					<div class="col-7">
						<h2 class="lead"><b>@Model.CaseTask?.PolicyDetail.ContractNumber</b></h2>
						<p class="text-muted text-sm">
							<b>Case Type: </b>@Model.CaseTask?.PolicyDetail.InsuranceType.GetEnumDisplayName()
						</p>
						<ul class="ml-4 mb-0 fa-ul text-muted">
							<li class="small">
								<span class="fa-li">
									<i class="fas fa-money-bill-wave"></i>
								</span>
								Amount: (@Model.Currency)@Model.CaseTask?.PolicyDetail.SumAssuredValue
							</li>
							<li class="small">
								<span class="fa-li">
									<i class="fas fa-tools"></i>
								</span>
								Service: @Model.CaseTask?.PolicyDetail.InvestigationServiceType.Name
							</li>
							<li class="small">
								<span class="fa-li">
									<i class="fas fa-building"></i>
								</span>
								Budget center: @Model.CaseTask?.PolicyDetail.CostCentre.Name
							</li>
							<li class="small">
								<span class="fa-li">
									<i class="fas fa-sun"></i>
								</span>
								Reason: @Model.CaseTask?.PolicyDetail.CaseEnabler.Name;
							</li>
							<li class="small">
								<span class="fa-li">
									<i class="far fa-clock"></i>
								</span>
								Issue Date: @Model.CaseTask?.PolicyDetail.ContractIssueDate.ToString("dd-MMM-yyyy")
							</li>
						</ul>
					</div>
					<div class="col-5 text-center">
						<p class="text-muted text-sm">
							@if (Model?.CaseTask?.PolicyDetail.DocumentPath is not null)
							{
								<img id="documentImage" class="img-fluid" src="/Document/GetPolicyDocument/@Model?.CaseTask?.PolicyDetail.PolicyDetailId" data-bs-toggle="tooltip" title="@Model?.CaseTask?.PolicyDetail.ContractNumber Document">
							}
							else
							{
								<img id="documentImage" alt="No Document"
									 class="img-fluid form-Image" src=@Applicationsettings.NO_POLICY_IMAGE data-bs-toggle="tooltip" title="No Document">
							}
						</p>
						<p class="text-muted text-sm">
							@if (Model.CaseTask.CaseNotes.Count > 0)
							{
								<img id="notesDetail" class="img-fluid form-Image" src="@Applicationsettings.POLICY_BLANK_IMAGE" data-bs-toggle="tooltip" title="Display notes">
							}
							else
							{
								<img id="notesDetail-disabled" class="img-fluid form-Image" src="@Applicationsettings.NO_POLICY_IMAGE" data-bs-toggle="tooltip" title="No notes">
							}
						</p>
					</div>
				</div>
			</div>
			<div class="card-footer">
				<div class="text-right">
					<a id="policy-comments" class="btn btn-sm bg-teal" data-bs-toggle="tooltip" title="Add Notes">
						<i class="fas fa-edit"></i>
					</a>
					<a id="policy-detail" class="btn btn-sm btn-info" data-bs-toggle="tooltip" title="Show  Case Details">
						<i class="far fa-file-powerpoint"></i> ...
					</a>
				</div>
			</div>
		</div>
	</div>
}