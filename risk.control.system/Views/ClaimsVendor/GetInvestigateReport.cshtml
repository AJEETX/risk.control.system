@model ClaimsInvestigationVendorsModel

@{
    ViewData["Title"] = @Applicationsettings.SERVICE;
}

<section class="content pt-2">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <form method="post">
                    <input type="hidden" id="claimId" name="claimId" value="@Model.ClaimsInvestigation.ClaimsInvestigationId" />
                    <input type="hidden" id="CaseLocationId" name="CaseLocationId" value="@Model.CaseLocation.CaseLocationId" />
                    <div id="article" class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-newspaper"></i> Claim detail</h3>
                        </div>
                        @{
                            string address = string.Empty;
                            string baddress = string.Empty;
                            int currentAgeinYrs = 0;
                            bool customerExist = false;
                            bool beneficiaryExist = false;
                            if (Model.ClaimsInvestigation != null)
                            {
                                address = @Model.ClaimsInvestigation?.CustomerDetail.Addressline + " " + @Model.ClaimsInvestigation?.CustomerDetail.District.Name + " " + @Model.ClaimsInvestigation?.CustomerDetail.State.Name + " " +
                                @Model.ClaimsInvestigation?.CustomerDetail.Country.Name + " " + @Model.ClaimsInvestigation?.CustomerDetail.PinCode.Code;
                                baddress = @Model.CaseLocation != null ? @Model.CaseLocation?.Addressline + " " +
                                @Model.CaseLocation?.District?.Name + " " + @Model.CaseLocation?.State?.Name + " " +
                                @Model.CaseLocation?.Country?.Name + " " + @Model.CaseLocation?.PinCode?.Code : string.Empty;
                                if (Model.ClaimsInvestigation?.CustomerDetail.CustomerDateOfBirth != null)
                                {
                                    var age = DateTime.Now.Subtract(Model.ClaimsInvestigation.CustomerDetail.CustomerDateOfBirth).TotalDays;
                                    currentAgeinYrs = (int)age / 365;
                                }
                            }
                            if (!string.IsNullOrWhiteSpace(Model.ClaimsInvestigation.PolicyDetail.ContractNumber))
                            {
                                customerExist = true;
                            }
                            if (Model.CaseLocation?.CaseLocationId > 0)
                            {
                                beneficiaryExist = true;
                            }
                            string customerProgressColor = "grey";
                            if (@customerExist)
                            {
                                customerProgressColor = "green";
                            }
                            string benficiaryProgressColor = "lightgrey";
                            if (@customerExist && @beneficiaryExist)
                            {
                                benficiaryProgressColor = "green";
                            }
                            if (@customerExist && !@beneficiaryExist)
                            {
                                benficiaryProgressColor = "grey";
                            }
                            if (!@customerExist && !@beneficiaryExist)
                            {
                                benficiaryProgressColor = "lightgrey";
                            }
                            <div class="card-body">
                                <article>
                                    <div class="bb-blog-inner">
                                        <header class="bb-blog-header">
                                            <h5 class="bb-blog-title" itemprop="name">Customer name : @Model.ClaimsInvestigation?.CustomerDetail.CustomerName</h5>
                                        </header>
                                        <div class="card card-solid">
                                            <div class="progress">
                                                <i class="far fa-bookmark" style="font-size:1.1rem;"></i>
                                                <div class="progress-bar" role="progressbar" style="width:32.5%;background-color:green;">
                                                    policy
                                                </div>
                                                <i class="far fa-caret-square-right" style="font-size:1.1rem;"></i>
                                                <div class="progress-bar" role="progressbar" style="width:32.33%;background-color:@customerProgressColor">
                                                    customer
                                                </div>
                                                <i class="far fa-caret-square-right" style="font-size:1.1rem;"></i>

                                                <div class="progress-bar" role="progressbar" style="width:33.34%;background-color:@benficiaryProgressColor">
                                                    beneficiary
                                                </div>
                                            </div>
                                            <div class="card-body pb-0">
                                                <div class="row">
                                                    <div class="col-12 col-sm-6 col-md-4 d-flex align-items-stretch flex-column">
                                                        <div class="card bg-light d-flex flex-fill">
                                                            <div class="card-header text-muted border-bottom-0">
                                                                <i class="far fa-file-powerpoint"></i> Policy Details
                                                            </div>
                                                            <div class="card-body pt-0">
                                                                <div class="row">
                                                                    <div class="col-7">
                                                                        <h2 class="lead"><b>@Model.ClaimsInvestigation?.PolicyDetail.LineOfBusiness.Name</b></h2>
                                                                        <p class="text-muted text-sm">
                                                                            <b>Claim Type: </b>@Model.ClaimsInvestigation?.PolicyDetail.ClaimType
                                                                        </p>
                                                                        <ul class="ml-4 mb-0 fa-ul text-muted">
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-money-bill-wave"></i>
                                                                                </span>
                                                                                Amount: <i class="fas fa-rupee-sign"></i>@Model.ClaimsInvestigation?.PolicyDetail.SumAssuredValue
                                                                            </li>
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-tools"></i>
                                                                                </span>
                                                                                Service: @Model.ClaimsInvestigation?.PolicyDetail.InvestigationServiceType.Name
                                                                            </li>
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-money-check-alt"></i>
                                                                                </span>
                                                                                Budget center: @Model.ClaimsInvestigation?.PolicyDetail.CostCentre.Name
                                                                            </li>
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-sun"></i>
                                                                                </span>
                                                                                Reason: @Model.ClaimsInvestigation?.PolicyDetail.CaseEnabler.Name;
                                                                            </li>
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="far fa-clock"></i>
                                                                                </span>
                                                                                Issue Date: @Model.ClaimsInvestigation?.PolicyDetail.ContractIssueDate.ToString("dd-MMM-yyyy")
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="col-5 text-center">
                                                                        @if (Model?.ClaimsInvestigation?.PolicyDetail.DocumentImage is not null)
                                                                        {
                                                                            <img id="documentImage" class="form-Image" src="data:image/*;base64,@(Convert.ToBase64String(Model?.ClaimsInvestigation.PolicyDetail.DocumentImage))">
                                                                        }
                                                                        else
                                                                        {
                                                                            <img id="documentImage" alt="user-avatar"
                                                                                 class="img-circle img-fluid form-Image" src="/img/document.jpeg">
                                                                        }
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="card-footer">
                                                                <div class="text-right">
                                                                    <a href="#" class="btn btn-sm bg-teal">
                                                                        <i class="fas fa-comments"></i>
                                                                    </a>
                                                                    <a href="#" class="btn btn-sm btn-danger">
                                                                        <i class="far fa-file-powerpoint"></i> ...
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6 col-md-4 d-flex align-items-stretch flex-column">
                                                        <div class="card bg-light d-flex flex-fill">
                                                            <div class="card-header text-muted border-bottom-0">
                                                                <i class="fa fa-user-plus"></i> Customer Details
                                                            </div>
                                                            <div class="card-body pt-0">
                                                                <div class="row">
                                                                    <div class="col-7">
                                                                        <h2 class="lead"><b>@Model.ClaimsInvestigation.CustomerDetail.CustomerName</b></h2>
                                                                        <p class="text-muted text-sm">
                                                                            <b>Occupation: </b> @Model.ClaimsInvestigation.CustomerDetail.CustomerOccupation
                                                                        </p>
                                                                        <ul class="ml-4 mb-0 fa-ul text-muted">
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-rupee-sign"></i>
                                                                                </span>
                                                                                Income: @Model.ClaimsInvestigation.CustomerDetail.CustomerIncome
                                                                            </li>
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-rupee-sign"></i>
                                                                                </span>
                                                                                Age: @currentAgeinYrs
                                                                            </li>
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-lg fa-building"></i>
                                                                                </span>
                                                                                Address: @address
                                                                            </li>

                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-lg fa-phone"></i>
                                                                                </span>
                                                                                Phone #: + @Model.ClaimsInvestigation.CustomerDetail.ContactNumber
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="col-5 text-center">
                                                                        @if (Model?.ClaimsInvestigation.CustomerDetail.ProfilePicture is not null)
                                                                        {
                                                                            <img id="profileImage" class="form-Image" src="data:image/*;base64,@(Convert.ToBase64String(Model?.ClaimsInvestigation.CustomerDetail.ProfilePicture))">
                                                                        }
                                                                        else
                                                                        {
                                                                            <img id="profileImage" class="form-Image" src="/img/user.png">
                                                                        }
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="card-footer">
                                                                <div class="text-right">
                                                                    <a href="#" class="btn btn-sm bg-teal">
                                                                        <i class="fas fa-comments"></i>
                                                                    </a>
                                                                    <a href="#" class="btn btn-sm btn-warning">
                                                                        <i class="fa fa-user-plus"></i> ...
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-sm-6 col-md-4 d-flex align-items-stretch flex-column">
                                                        <div class="card bg-light d-flex flex-fill">
                                                            <div class="card-header text-muted border-bottom-0">
                                                                <i class="fas fa-user-tie"></i>  Beneficiary Details
                                                            </div>
                                                            <div class="card-body pt-0">
                                                                <div class="row">
                                                                    <div class="col-7">
                                                                        <h2 class="lead"><b>@Model.CaseLocation?.BeneficiaryName</b></h2>
                                                                        <p class="text-muted text-sm">
                                                                            <b>Relation: </b> @Model.CaseLocation?.BeneficiaryRelation.Name
                                                                        </p>
                                                                        <ul class="ml-4 mb-0 fa-ul text-muted">
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-rupee-sign"></i>
                                                                                </span>
                                                                                Income: @Model.CaseLocation?.BeneficiaryIncome
                                                                            </li>
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-lg fa-building"></i>
                                                                                </span>
                                                                                Address: @baddress
                                                                            </li>
                                                                            <li class="small">
                                                                                <span class="fa-li">
                                                                                    <i class="fas fa-lg fa-phone"></i>
                                                                                </span>
                                                                                Phone #: + @Model.CaseLocation?.BeneficiaryContactNumber
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="col-5 text-center">

                                                                        @if (Model?.CaseLocation?.ProfilePicture is not null)
                                                                        {
                                                                            <img id="profileImage" alt="user-avatar"
                                                                                 class="img-circle img-fluid form-Image" src="data:image/*;base64,@(Convert.ToBase64String(Model?.CaseLocation?.ProfilePicture))">
                                                                        }
                                                                        else
                                                                        {
                                                                            <img class="form-Image" id="profileImage" src="/img/user.png">
                                                                        }

                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="card-footer">
                                                                <div class="text-right">
                                                                    <a href="#" class="btn btn-sm bg-teal">
                                                                        <i class="fas fa-comments"></i>
                                                                    </a>
                                                                    <a href="#" class="btn btn-sm btn-success">
                                                                        <i class="fas fa-user-tie"></i> ...
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div> <!-- class bb-blog-inner -->
                                </article>
                            </div>
                        }
                    </div>
                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-folder-open"></i> Agent Report</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-6">
                                    <fieldset>
                                        <legend>
                                            Ocr Image
                                        </legend>
                                        <div class="form-group">
                                            <img id="agentLocationPicture" class="report-image" src="/img/no-photo.png">
                                        </div>
                                    </fieldset>
                                    <fieldset>
                                        <legend>
                                            Image Location
                                        </legend>
                                        <div class="form-group">
                                            <input readonly name="agentLonglat" id="agentLonglat" asp-for="CaseLocation.ClaimReport.LongLat" value="Lucknow road, Kanpur UP 101010" type="text" class="form-control" />
                                        </div>
                                    </fieldset>

                                </div>
                                <div class="col-sm-6">
                                    <fieldset>
                                        <legend>
                                            QR Image
                                        </legend>
                                        <div class="form-group">
                                            <img class="report-image" id="documentImage" src="/img/user.png">
                                        </div>
                                    </fieldset>
                                    <fieldset>
                                        <legend>
                                            OCR Data
                                        </legend>
                                        <div class="form-group">
                                            <input readonly name="agentOcrData" id="agentOcrData" asp-for="CaseLocation.ClaimReport.AgentOcrData" value="PAN Card: ABCXNX10101" type="text" class="form-control" />
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="=row">
                                <div class="col-md-12">
                                    <fieldset>
                                        <legend>
                                            Report Summary
                                        </legend>
                                        <input readonly asp-for="CaseLocation.ClaimReport.AgentRemarks" name="agentRemarks" id="remarks" type="text" class="form-control" value="@Model.CaseLocation.ClaimReport.AgentRemarks" />
                                    </fieldset>
                                </div>

                            </div>
                        </div>

                    </div>
                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-folder-open"></i> @Applicationsettings.SUBMIT_REPORT</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <fieldset>
                                        <legend>
                                            Additional Document / File
                                        </legend>
                                        <div class="form-group">
                                            <img id="supervisorPicture" class="report-image" id="documentImage" src="/img/no-image.png">
                                            <input asp-for="CaseLocation.ClaimReport.SupervisorDocumentImage" type="file" class="form-control" onchange="document.getElementById('supervisorPicture').src = window.URL.createObjectURL(this.files[0])" />
                                        </div>
                                    </fieldset>
                                    <fieldset>
                                        <legend>
                                            Supervisor Remarks
                                        </legend>
                                        <div class="form-group">
                                            <input name="supervisorRemarks" id="supervisorRemarks" class="form-control" />
                                        </div>
                                    </fieldset>

                                </div>
                            </div>
                        </div>
                        <div class="card-body disclaimer-body">
                            <fieldset><legend>Disclaimer</legend>
                            <div class="row report-disclaimer">
                                <div class="col-md-12">
                                    <label>
                                        <p>Our Disclaimer was last updated on [___DATE___]</p>
                                        <p><strong>Interpretation and Definitions</strong></p>
                                        <p><strong>Interpretation</strong></p>
                                        <p>The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural.</p>
                                        <p><strong>Definitions</strong></p>
                                        <p>For the purposes of this Disclaimer:</p>
                                        <ul>
                                            <li><strong>"Company"</strong> (referred to as either "the Company", "We", "Us" or "Our" in this Disclaimer) refers to [___COMPANY_INFORMATION___]</li>
                                            <li><strong>"Service"</strong> refers to the Website.</li>
                                            <li><strong>"You"</strong> means the individual accessing the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable.</li>
                                            <li><strong>"Website"</strong> refers to [___WEBSITE_NAME___], accessible from [___WEBSITE_URL___]</li>
                                        </ul>
                                        <p><strong>Disclaimer</strong></p>
                                        <p>The information contained on the Service is for general information purposes only.</p>
                                        <p>The Company assumes no responsibility for errors or omissions in the contents of the Service.</p>
                                        <p>In no event shall the Company be liable for any special, direct, indirect, consequential, or incidental damages or any damages whatsoever, whether in an action of contract, negligence or other tort, arising out of or in connection with the use of the Service or the contents of the Service. The Company reserves the right to make additions, deletions, or modifications to the contents on the Service at any time without prior notice.</p>
                                        <p>The Company does not warrant that the Service is free of viruses or other harmful components. This Disclaimer was generated by <a href="https://www.termsfeed.com/blog/sample-disclaimer-template/">TermsFeed Disclaimer Template</a>.</p>
                                        <p><strong>Fitness & Nutritional Information Disclaimer</strong></p>
                                        <p>The Service can offer health, fitness and nutritional information including, without limitation, advice and recommendation, that is provided solely as general education and informational purposes.</p>
                                        <p>Use of the advice and information contained herein is at your sole choice and risk. You should not rely on this information as a substitute for, nor does it replace, professional medical advice, diagnosis, or treatment. Always consult your physician or healthcare provider before beginning any nutrition or exercise program.</p>
                                        <p>If You choose to use this information without prior consent of your physician, You are agreeing to accept full responsibility for your decisions and agreeing to hold harmless the Company.</p>
                                        <p><strong>FTC Affiliate Disclaimer</strong></p>
                                        <p>The disclosure that follows is intended to fully comply with the Federal Trade Commission's policy of the United States that requires the Company to be transparent about any and all affiliate relations the Company may have on the Service.</p>
                                        <p>You should assume that some of the links are "affiliate links", a link with a special tracking code.</p>
                                        <p>This means that if You click on an affiliate link and purchase the item, the Company may receive an affiliate commission. This is a legitimate way to monetize and pay for the operation of the Service and the Company gladly reveal its affiliate relationships to You.</p>
                                        <p>The price of the item is the same whether it is an affiliate link or not. Regardless, the Company only recommends products or services the Company believes will add value to users.</p>
                                        <p>Affiliate advertising programs that the Service uses are:</p>
                                        <p>[___LIST___]</p>
                                        <p><strong>External Links Disclaimer</strong></p>
                                        <p>The Service may contain links to external websites that are not provided or maintained by or in any way affiliated with the Company.</p>
                                        <p>Please note that the Company does not guarantee the accuracy, relevance, timeliness, or completeness of any information on these external websites.</p>
                                        <p><strong>Fair Use Disclaimer</strong></p>
                                        <p>The Company may use copyrighted material which has not always been specifically authorized by the copyright owner. The Company is making such material available for criticism, comment, news reporting, teaching, scholarship, or research.</p>
                                        <p>The Company believes this constitutes a "fair use" of any such copyrighted material as provided for in section 107 of the United States Copyright law.</p>
                                        <p>If You wish to use copyrighted material from the Service for your own purposes that go beyond fair use, You must obtain permission from the copyright owner.</p>
                                        <p><strong>Views Expressed Disclaimer</strong></p>
                                        <p>The Service may contain views and opinions which are those of the authors and do not necessarily reflect the official policy or position of any other author, agency, organization, employer or company, including the Company.</p>
                                        <p>Comments published by users are their sole responsibility and the users will take full responsibility, liability and blame for any libel or litigation that results from something written in or as a direct result of something written in a comment. The Company is not liable for any comment published by users and reserves the right to delete any comment for any reason whatsoever.</p>
                                        <p><strong>No Responsibility Disclaimer</strong></p>
                                        <p>The information on the Service is provided with the understanding that the Company is not herein engaged in rendering legal, accounting, tax, or other professional advice and services. As such, it should not be used as a substitute for consultation with professional accounting, tax, legal or other competent advisers.</p>
                                        <p>In no event shall the Company or its suppliers be liable for any special, incidental, indirect, or consequential damages whatsoever arising out of or in connection with your access or use or inability to access or use the Service.</p>
                                        <p><strong>"Use at Your Own Risk" Disclaimer</strong></p>
                                        <p>All information in the Service is provided "as is", with no guarantee of completeness, accuracy, timeliness or of the results obtained from the use of this information, and without warranty of any kind, express or implied, including, but not limited to warranties of performance, merchantability and fitness for a particular purpose.</p>
                                        <p>The Company will not be liable to You or anyone else for any decision made or action taken in reliance on the information given by the Service or for any consequential, special or similar damages, even if advised of the possibility of such damages.</p>
                                        <p><strong>Contact Us</strong></p>
                                        <p>If you have any questions about this Disclaimer, You can contact Us:</p>
                                        <ul>
                                            <li>By visiting this page on our website: [___WEBSITE_CONTACT_PAGE_URL___]</li>
                                            <li>By sending us an email: [___WEBSITE_CONTACT_EMAIL___]</li>
                                        </ul>
                                        <p></p>
                                    </label>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                            <div class="custom-control custom-checkbox mr-sm-2">
                                                <input type="checkbox" class="custom-control-input selected-case" id="selected-case" name="selected-case">
                                                <label class="custom-control-label" for="selected-case"> I hereby consent to agree to the term and conditions.</label>
                                            </div>

                                        
                                    </div>
                                </div>
                            </div>
                            </fieldset>
                        </div>
                        <div class="card-body">
                            <div class="=row">
                                <div class="col-md-12 text-right">
                                    <a asp-controller="ClaimsVendor" class="btn btn-default" asp-action="ClaimReport">
                                        <i class="fas fa-arrow-left" aria-hidden="true"></i> Back
                                    </a>
                                    <button disabled id="allocate-case" type="submit" asp-action="ProcessReport" class="btn btn-success">
                                        <i class="far fa-file-alt" aria-hidden="true"></i> @Applicationsettings.SUBMIT_CASE_TO_COMPANY
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>