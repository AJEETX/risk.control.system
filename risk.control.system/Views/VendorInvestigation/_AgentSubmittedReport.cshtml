@model CaseAgencyAgentModel

@{
	var cardView = "expanding-card";
	var cardViewIcon = "fas fa-minus";
}
<div class="card shadow-lg border-1 rounded-lg direct-chat-warning  @cardView">
	<div class="card-header bg-light text-white text-center">
		<h3 class="card-title">
			<span class="badge badge-info" data-bs-toggle="tooltip" title="Status : @Model.ClaimsInvestigation?.SubStatus?">
				<b>@Model.ClaimsInvestigation?.SubStatus</b>
			</span>
			<b><i class='far fa-hand-point-right'></i></b>

			<span class="badge badge-info" data-bs-toggle="tooltip"
				  title="Owner : @Model.ClaimsInvestigation.CaseOwner">
				<b>
					@Model.ClaimsInvestigation.CaseOwner
				</b>
			</span>

			<span class="hover-text">
				<i class="fas fa-info-circle"></i>
				<span class="tooltip-text" id="information">
					<li>
						<i class='far fa-file-powerpoint'></i> Policy details.
					</li>
					@if (Model.ClaimsInvestigation.PolicyDetail.InsuranceType == InsuranceType.UNDERWRITING)
					{
						<li>
							<i class='fa fa-user-plus'></i> Customer details
						</li>
					}
					else
					{
						<li> <i class='fas fa-user-tie'></i> Beneficiary details </li>
					}
				</span>
			</span>
		</h3>
	</div>
	<div class="card-body">
		<div class="submit-progress hidden">
			<i class="fas fa-sync fa-spin fa-4x fa-fw"></i>
		</div>
		<div class="row">
			@{
				<partial name="_ClaimPolicyDetails" model="@Model" />
				@if (Model.ClaimsInvestigation.PolicyDetail.InsuranceType == InsuranceType.UNDERWRITING)
				{
					<partial name="_ClaimCustomerDetails" model="@Model" />
				}
				else
				{
					<partial name="_ClaimBeneficairyDetails" model="@Model" />
				}
			}
		</div>
	</div>
	<div class="card-footer">
		<form id="withdraw-form" method="post" asp-action="WithdrawCaseFromAgent" asp-controller="DeclineCase">
			<input type="hidden" name="claimId" asp-for="@Model.ClaimsInvestigation.Id" />
			<input type="hidden" name="policyNumber" asp-for="@Model.ClaimsInvestigation.PolicyDetail.ContractNumber" />
			<div class="row float-right">
				<div class="col-md-12">
					<a id="back" asp-action="Open" class="btn btn-outline-secondary">
						<i class="fas fa-arrow-left"></i>
						<span class="badge badge-light"> <i class="fa fa-toggle-on"></i> </span> Back
					</a>
					@*  @if (@Model.ClaimsInvestigation.SubStatus == CONSTANTS.CASE_STATUS.CASE_SUBSTATUS.ASSIGNED_TO_AGENT)
                    {
                        <button id="withdraw-case" type="submit" class="btn btn-danger"><i class="fas fa-undo"></i> Withdraw</button>
                    }
                    else
                    {
                        <button id="withdraw-case" disabled class="btn btn-danger" title="Can't  be withdrawn"><i class="fas fa-undo"></i> Withdraw</button>
                    } *@

					<span id="decline-information-popup" class="badge badge-light">
						<div class="btn btn-outline-danger">
							<span class="badge badge-light"> <i class="fas fa-undo"></i> </span> Decline <span class="badge badge-danger">
							<i class="fas fa-info"></i>
						</span>
					</div>
				</span>
			</div>
		</div>
	</form>
</div>
</div>